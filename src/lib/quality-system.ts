// Quality System - Examples-first generation and validation

export const QUALITY_EXAMPLES = `
═══════════════════════════════════════════════════════════
GOLD STANDARD EXAMPLES - Study These Carefully
═══════════════════════════════════════════════════════════

Your output MUST match this quality level. These are REAL examples of 10/10 copy.

──────────────────────────────────────────────────────────
EXAMPLE 1: SUBJECT LINES
──────────────────────────────────────────────────────────

❌ BAD (Generic/Salesy):
"Your Secret Weapon for Business Growth"
"The Shift That Changed Everything for Me"
"Feeling Stuck? This Could Help"
"Watch Your Engagement Skyrocket"

WHY BAD: Vague promises, no specifics, clickbait, overused phrases

✅ GOOD (Specific/Concrete):
"Answer 3 questions, get 10 DMs (15 minutes)"
"The $4K launch I built in 7 days (no ads)"
"Why 47 subscribers beat 4,700 (engagement math)"
"The list-building mistake that cost me 6 months"

WHY GOOD: Specific numbers, concrete outcomes, real timeframes, curiosity without hype

PATTERN TO COPY: [Number] + [Specific Action/Outcome] + [Timeframe OR Specificity]

──────────────────────────────────────────────────────────
EXAMPLE 2: EMAIL OPENINGS
──────────────────────────────────────────────────────────

❌ BAD (Generic Struggle):
"You're probably knee-deep in the online business maze, trying to make sense of it all."
"If you're reading this, you're ready to shake things up and make things happen."
"I know that feeling. Staring at your screen, wondering if this will ever work."

WHY BAD: Generic pain, no specific moment, AI patterns ("you're probably", "I know that feeling")

✅ GOOD (Specific Moment):
"It's 2am. You're toggling between three tabs—your competitor's Instagram (she just hit 10K followers), your empty inbox, and a Google doc titled 'Launch Plan v7' that you started 6 months ago."

"Quick question: How many people are on your email list right now? Don't worry, I'm not judging. I spent my first year building to 47 people. FORTY-SEVEN."

WHY GOOD: Paints specific scene, sensory details, exact numbers, conversational

PATTERN TO COPY: Specific time/place + Vivid details + Numbers + Conversational aside

──────────────────────────────────────────────────────────
EXAMPLE 3: TACTICAL TIPS
──────────────────────────────────────────────────────────

❌ BAD (Vague Advice):
"Focus on finding your leverage point and identifying the gap in your strategy."
"Think about where your ideal clients hang out and try to be more visible there."
"Consider asking your audience what they need help with."

WHY BAD: No specific steps, no timeframe, vague verbs ("think about", "consider"), no expected outcome

✅ GOOD (Specific Action):
"Do this exercise right now (2 minutes):

1. Write down the 3 things you did for your business this week
2. Ask: 'Which ONE of these, if I did every day, would 10x my results?'
3. That's your lever. Do ONLY that for the next 7 days.

Send me a message on Day 7—I want to know what happened."

"Go to your Instagram/Facebook and post this exact question:

'Quick question: What's your biggest struggle with [your niche's main problem]?'

Pin it to your profile.

When people comment, DM them: 'Can I send you a free resource that helped me with that exact thing?'

Boom. New subscriber who's already engaged.

Do it today. Let me know how many people respond."

WHY GOOD: Numbered steps, exact timeframe, can do TODAY, expected outcome, engagement loop

PATTERN TO COPY: [Numbered steps] + [Specific timeframe] + [Expected outcome] + [Invitation to report back]

──────────────────────────────────────────────────────────
EXAMPLE 4: COMPLETE EMAIL (10/10 QUALITY)
──────────────────────────────────────────────────────────

Subject: The list-building mistake that cost me 6 months

Hey Sarah,

Quick question: How many people are on your email list right now?

Don't worry, I'm not judging. I spent my first year building to 47 people. FORTY-SEVEN.

But here's what nobody told me: I was focused on the wrong metric.

I was trying to build a BIG list when I should've been building an ENGAGED list.

The moment I switched strategies? My 47-person list made me $3K in a weekend. My friend's 4,700-person list made her $800.

Here's what I did differently:

Instead of generic freebies, I asked my 47 people: "What's your biggest struggle with [topic]?"

12 people replied (25% response rate!).

Then I created content answering exactly what they asked.

Result: 8 of those 12 bought from me within 30 days.

Your action for this week:

Email your list (even if it's 10 people) and ask ONE question:

"What's the biggest obstacle stopping you from [their goal]?"

That's it. Just ask.

Then create your next piece of content based on what they tell you.

Try it and let me know what they say. I'm genuinely curious.

— Faith

P.S. A small engaged list beats a big cold list every time. Quality > quantity.

──────────────────────────────────────────────────────────

WHAT MAKES THIS 10/10:
✓ Subject line: Specific outcome + timeframe ("6 months")
✓ Opening: Engagement question + vulnerability (47 people)
✓ Specific numbers throughout: 47, $3K, 4,700, $800, 12, 25%, 8, 30 days
✓ Concrete comparison: Her results vs. friend's results
✓ Clear tactical tip: Ask one question, create content from answers
✓ Expected outcome: Better engagement, purchases
✓ Soft CTA: Reply (relationship building, not selling)
✓ Natural voice: Contractions, fragments, conversational
✓ NO AI patterns: No "here's what", no "secret weapon", no generic motivation
✓ Strategic: Builds relationship + delivers value (Email 1 purpose)

═══════════════════════════════════════════════════════════
YOUR TASK: Write copy at THIS quality level.
═══════════════════════════════════════════════════════════
`;

export const QUALITY_RUBRIC = `
═══════════════════════════════════════════════════════════
QUALITY SCORING RUBRIC - Score Yourself
═══════════════════════════════════════════════════════════

Score this email 1-10 on each criterion. Be brutally honest.

1. SUBJECT LINES (1-10)
   10: Specific numbers/outcomes, references actual content, curiosity without clickbait
   7: Decent but could be more specific (has some numbers OR specifics)
   4: Generic promises ("Secret weapon", "Game changer", "Transform your business")
   1: Pure clickbait or vague platitudes

   YOUR SCORE: __/10
   EVIDENCE: [Quote the 3 subject lines]
   IF <7, PROVIDE FIX: [Rewrite with specific numbers/outcomes]

2. OPENING HOOK (1-10)
   10: Specific moment with sensory details (time, place, exact scenario)
   7: Relatable situation but somewhat generic
   4: "You're probably struggling with..." (AI pattern, generic)
   1: Pure platitude or motivational fluff

   YOUR SCORE: __/10
   EVIDENCE: [Quote first 2 sentences]
   IF <7, PROVIDE FIX: [Rewrite with specific moment]

3. TACTICAL TIP QUALITY (1-10) [For Email 1 only]
   10: Numbered steps, specific timeframe, expected outcome, can do in <30min, engagement hook
   7: Steps present but vague on timeframe OR outcome
   4: Advice without actionable steps ("focus on", "think about")
   1: Just a question or inspiration, no action

   YOUR SCORE: __/10
   EVIDENCE: [Quote the tactical tip section]
   IF <7, PROVIDE FIX: [Rewrite with numbered steps + timeframe + outcome]

4. VOICE AUTHENTICITY (1-10)
   10: Sounds exactly like voice samples, zero AI tells
   7: Mostly authentic, 1-2 minor AI patterns
   4: Several AI phrases (see banned list below)
   1: Pure ChatGPT voice

   YOUR SCORE: __/10
   AI PATTERNS FOUND: [List any from banned phrases]
   IF <7, PROVIDE FIX: [Replace AI phrases with natural alternatives]

5. SPECIFICITY (1-10)
   10: Numbers, names, dates, exact amounts throughout (5+ specific details)
   7: Some specifics (2-3 numbers/details)
   4: Mostly generic ("better engagement", "see results", "increase visibility")
   1: No concrete details, all vague claims

   YOUR SCORE: __/10
   EVIDENCE: [Count and list specific numbers/details]
   IF <7, PROVIDE FIX: [Add specific numbers where vague]

6. STRATEGIC ALIGNMENT (1-10)
   10: Perfectly matches content type purpose (Email 1: deliver value + no sell)
   7: Mostly aligned, minor strategic drift
   4: Partially off-strategy (selling when shouldn't, vague when should be tactical)
   1: Wrong strategy entirely

   YOUR SCORE: __/10
   ISSUES: [What's strategically misaligned?]
   IF <7, PROVIDE FIX: [Strategic correction needed]

──────────────────────────────────────────────────────────
SCORING SUMMARY:
──────────────────────────────────────────────────────────

OVERALL SCORE: __/60 (sum of 6 scores)
AVERAGE: __/10 (overall ÷ 6)

QUALITY ASSESSMENT:
- 9-10: Exceptional, ship immediately
- 8: Very good, minor polish needed
- 7: Good, targeted improvements needed
- <7: REWRITE REQUIRED

DECISION:
□ PASS - Proceed to next stage
□ REWRITE - Fix issues listed above (specify which scores were <7)

IF REWRITE: Provide specific fixes for each score <7
`;

export const BANNED_PHRASES = [
  "here's what", "here's how", "here's why",
  "the thing is",
  "secret weapon", "game changer", "game-changer",
  "transform your life", "transform your business",
  "at the end of the day",
  "take it to the next level", "elevate your",
  "unlock the secrets", "unlock your potential",
  "embark on a journey",
  "delve into", "dive deep",
  "feel free to", "don't hesitate to",
  "i hope this helps",
  "absolutely!", "certainly!",
  "shake things up", "make things happen",
  "circle of doers", "circle of dreamers", "circle of",
  "sparks you ignite", "magic you create",
  "your secret to", "the secret to"
];

export function checkForBannedPhrases(text: string): { found: string[]; passes: boolean } {
  const textLower = text.toLowerCase();
  const found = BANNED_PHRASES.filter(phrase => textLower.includes(phrase.toLowerCase()));
  
  return {
    found,
    passes: found.length === 0
  };
}

export function validateTacticalTip(text: string): {
  hasNumberedSteps: boolean;
  hasTimeframe: boolean;
  hasOutcome: boolean;
  passes: boolean;
} {
  const hasNumberedSteps = /\d+\.\s/.test(text);
  const hasTimeframe = /(today|this week|next \d+ days?|within \d+ (minutes?|hours?|days?)|right now|\d+ minutes?)/i.test(text);
  const hasOutcome = /(will|you'll|expect|result|happens?|get|see|watch what|let me know)/i.test(text);
  
  return {
    hasNumberedSteps,
    hasTimeframe,
    hasOutcome,
    passes: hasNumberedSteps && hasTimeframe && hasOutcome
  };
}

export function validateSubjectLines(lines: string[]): {
  hasNumbers: boolean;
  hasSpecifics: boolean;
  passes: boolean;
} {
  const hasNumbers = lines.some(line => /\d+/.test(line));
  const genericPatterns = /(secret|transform|unlock|game.?changer|skyrocket|breakthrough)/i;
  const hasSpecifics = lines.some(line => !genericPatterns.test(line) && line.length > 20);
  
  return {
    hasNumbers,
    hasSpecifics,
    passes: hasNumbers || hasSpecifics
  };
}
